{"version":3,"sources":["main.js"],"names":["window","addEventListener","init","time","score","isPlaying","scoreStorage","localStorage","wordInput","document","querySelector","currentWord","scoreDisplay","timeDisplay","message","feedback","seconds","skyldheitiDisplay","wordDict","isValid","getItem","innerHTML","console","log","showWord","matchWords","fetch","then","response","json","word","frumfletta","skyldflettur","frum","catch","err","e","key","value","result","is_valid","timeOut","skyld","includes","setItem","setTimeout","location","reload","displaySkyldheiti"],"mappings":"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","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["window.addEventListener('load', init);\n\n// Global scope variables\nlet time = 10;\nlet score = 0;\nlet isPlaying;\nscoreStorage = window.localStorage;\n\n// DOM elements\nconst wordInput = document.querySelector('#word-input')\nconst currentWord = document.querySelector('#current-word')\nconst scoreDisplay = document.querySelector('#score')\nconst timeDisplay = document.querySelector('#time')\nconst message = document.querySelector('#message')\nconst feedback = document.querySelector('#feedback')\nconst seconds = document.querySelector('#seconds')\nconst skyldheitiDisplay = document.querySelector('#skyldheiti')\nvar wordDict = {}\nvar isValid;\n\n// Initialize Game\nfunction init() {\n  // getting user score from local storage\n  score = scoreStorage.getItem(\"userScore\");\n  scoreDisplay.innerHTML = score;\n  console.log(\"in init\")\n  // display random word\n  showWord(wordDict);\n  // check typed words - waiting for user to press enter\n  matchWords(wordDict);\n\n}\n\n// match word to skyldheiti\n// random index word\nfunction showWord(wordDict) {\n  fetch('http://localhost:5042/skyldflettur')\n  .then(function(response) {\n    return response.json();\n  })\n  .then(word => {\n    console.log(\"Frumfletta: \" + word.frumfletta);\n    console.log(\"Skyldflettur: \" + word.skyldflettur);\n    wordDict[\"frum\"] = word.frumfletta;\n    wordDict[\"skyld\"] = word.skyldflettur;\n    currentWord.innerHTML = wordDict.frum;\n    return wordDict;\n  }).catch(err => {\n    console.log(\"Error fetching word from server.\")\n  });\n}\n\n\nfunction matchWords(wordDict) {\n  wordInput.addEventListener('keypress', function (e) {\n    if (e.key === 'Enter') {\n      console.log(wordInput.value);\n      if (!wordInput.value) {\n        return;\n      }\n      fetch(`http://localhost:5042/user_word/${wordInput.value}`)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(result => {\n        isValid = result.is_valid;\n        console.log(isValid);\n        return isValid;\n      })\n      .then(isValid => {\n        console.log(wordDict)\n        var timeOut = 1000;\n        if (wordDict.skyld.includes(wordInput.value)) {\n          wordInput.value = '';\n          score++;\n          scoreStorage.setItem(\"userScore\", score);\n          score = scoreStorage.getItem(\"userScore\");\n          feedback.innerHTML = \"Já, þetta er á skrá hjá okkur!\"; \n        }\n\n        else if (isValid) {\n          console.log(isValid + \" \" + wordInput.value)\n          wordInput.value = '';\n          feedback.innerHTML = 'Áhugavert orð, en ekki skráð skyldheiti';\n          // time delay to display text      \n        }\n\n        else {\n          console.log(isValid + \" \" + wordInput.value)\n          wordInput.value = '';\n          feedback.innerHTML = \"Þetta er nú eitthvað skrýtið orð.\"\n        }\n\n        setTimeout(function() {\n          feedback.innerHTML = \"\";\n          window.location.reload(true);\n        }, timeOut);\n      })\n    }\n  })\n}\n\n\n\nfunction displaySkyldheiti() {\n  return skyldheitiDisplay.innerHTML = wordDict.skyld;\n}\n\n"]}